{% extends "administrative/base.html" %}
<!--  -->
{% load static %}
<!--  -->
{% block title %} Create company group {% endblock %}
<!--  -->
{% block css %}
<link
  rel="stylesheet"
  href="{% static 'administrative/css/createcompanygroup.css' %}"
/>
{% endblock %} {% block content %}
<form method="get">
  {% if errmsg %}
  <div class="container" align='center'>
    <p style="color: red;font-size: 25px;"><b>{{errmsg}}
        <script>
            alert("{{errmsg}}")
        </script>
    </b></p>
  </div>
  {% endif %} {% if goodmsg %}
  <div class="container" align='center'>
    <p style="color: green;font-size: 25px;"><b>{{goodmsg}}
         <script>
            alert("{{goodmsg}}")
        </script>
    </b></p>
  </div>
  {% endif %}
  <div class="container">
    <div class="createtitle" align="center">
      <h4>Create a new company group</h4>
      {% if group_name %}
      <input
        type="text"
        name="group_name"
        id="group_name"
        style="width: 50%"
        placeholder="Group name"
        class="form-control"
        value="{{group_name}}"
        autocomplete="off"
      />
      {% else %}
      <input
        type="text"
        name="group_name"
        id="group_name"
        style="width: 50%"
        placeholder="Group name"
        class="form-control"
      />
      <div align="center" style="margin-top: 2%">
        <button type="submit" class="btn btn-primary" name="creategroup">
          Create group
        </button>
      </div>
      {% endif %}
    </div>

    <hr />
  </div>
  {% if all_user %}
  <div></div>
  <div class="container">
    <table class="table table-striped">
      <thead>
        <tr>
          <th scope="col">#</th>
          <th scope="col">First</th>
          <th scope="col">Employee Id</th>
          <th scope="col">Department</th>
          <th scope="col">Email address</th>
          <th scope="col">add to group</th>
        </tr>
      </thead>
      <tbody>
        {% for i in all_user%}
        <tr>
          <th scope="row">{{forloop.counter}}</th>
          <td>{{i.name}}</td>
          <td>{{i.employee_id}}</td>
          <td>{{i.department}}</td>
          <td>{{i.email_id}}</td>
          <td align="center">
            <input
              class="form-check-input"
              type="checkbox"
              id="check"
              name="check"
              value="{{i.email_id}}"
            />
            <!-- <label><b>{{i.name}}  </b></label> -->
            <label class="form-check-label" for="flexSwitchCheckDefault"
              >{{i.email_address}}</label
            >
          </td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <div align="center" >
      <button type="submit" class="btn btn-primary" name="clickedcreategroup">
        Create group
      </button>
    </div>
  </div>
  {% endif %}
</form>
<div class="container" align="center" style="margin-top:2%;">
    <a href="/administrative/dashboard">
    <button class="btn btn-danger">
        Go Back
    </button></a>
</div>
{% endblock content %} {% block script %}
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.min.js"></script>

<link
  rel="stylesheet"
  type="text/css"
  href="https://cdn.datatables.net/1.11.4/css/jquery.dataTables.css"
/>
<script
  type="text/javascript"
  charset="utf8"
  src="https://cdn.datatables.net/1.11.4/js/jquery.dataTables.js"
></script>
<script>
  $(document).ready(function () {
    $(".table").DataTable({
      aLengthMenu: [
        [3, 5, 10, 25, -1],
        [3, 5, 10, 25, "ALL"],
      ],
      iDisplayLength: 3,
    });
  });
</script>
{% endblock %}
